input { 
  lumberjack {
    host => "{{ ansible_eth0.ipv4.address }}" 
    port => "5000"
    ssl_certificate => "/etc/logstash/logstash-server.crt"
    ssl_key => "/etc/logstash/logstash-server.key"
    type => "rlogs"
  }

  file { 
   type => "syslog"
   path => [ "/var/log/messages", "/var/log/secure" ] 
   sincedb_path => "/opt/logstash/sincedb-access" 
  } 

#redis input port 6379
  redis { 
    host => "{{ ansible_eth0.ipv4.address }}" 
    data_type => "list" 
    type => "redis-input" 
    key => "logstash" 
  } 

#syslog input
  syslog { 
    type => "syslog" 
    port => "5144" 
  } 
} 
output { 
 stdout {}
 #cluster name is elk_{{local_subdomain}}_cluster
 elasticsearch { cluster => "elk_{{local_subdomain}}_cluster" } 
}

